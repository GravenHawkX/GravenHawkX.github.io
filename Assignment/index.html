<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Flipkart</title>
</head>
<body>
    <div> 
        <div class="navbar">
            <div class="empty"></div>
            <div class="icon">
                <img src="images/icon.jpg" alt="">
            </div>
            <div class="search_bar">
                <input type="text" placeholder="Search for products, brands and more..">
            </div>
            <div class="empty2"></div>
            <div class="search_btn">
                <button type="submit" ><img src="images/search.png" alt=""></button>
            </div>
            <div class="login_btn">
                <button type="submit" ><p>Login</p></button>
            </div>
            <div class="btn2" id="buttons">
                <button type="submit" ><p>Become a Seller</p></button>
            </div>
            <div class="more_btn" id="buttons">
                <button type="submit" ><p>More</p></button>
            </div>
            <div class="cart_btn" id="buttons">
                <button type="submit" ><p>Cart</p></button>
            </div>
            <div class="empty"></div>
        </div>
    </div>
    <div class="navbar2">
        <style >
            select{
                border-style: none;
                outline:none;
                cursor: pointer;
            }
        </style>
        <div class="elec">
            <select name="Electronics" >
                <option value="electronics" id="electronics" >Electronics</option>
                <option value="Mobiles">Mobiles</option>
            </select>
        </div>
        <div class="Tv">
            <select name="tv" >
                <option value="electronics" id="electronics" >Tv & Appliances</option>
                <option value="tv">Television</option>
            </select>
        </div>
        <div class="men">
            <select name="men" >
                <option value="men" id="men" >Men</option>
                <option value="footwear">Footwear</option>
            </select>
        </div>
        <div class="women">
            <select name="women" >
                <option value="women" id="women" >Women</option>
                <option value="blothing">Clothing</option>
            </select>
        </div>
        <div class="baby">
            <select name="baby" >
                <option value="baby" id="baby" >Baby & Kids</option>
                <option value="kids_clothing">Kids Clothing</option>
            </select>
        </div>
        <div class="home">
            <select name="home" >
                <option value="electronics" id="home" >Home & Furniture</option>
                <option value="Mobiles">Mobiles</option>
            </select>
        </div>
        <div class="sports">
            <select name="sports" >
                <option value="sports" id="sports">Sports, Books % More</option>
                <option value="Mobiles">Mobiles</option>
            </select>
        </div>
        <div class="flights">
            <select name="flights" >
                <option value="flights" id="flights" >Flights</option>
                <option value="Mobiles">Mobiles</option>
            </select>
        </div>
        <div class="offer">
            <select name="Offer" >
                <option value="offer" id="offer" >Offer Zone</option>
                <option value="Mobiles">Mobiles</option>
            </select>
        </div>

    </div>
    <div class="zoom" id="zoom"></div>
    <div class="flexbox-container">
        <div class="flexbox-item flexbox-item-1">
            <div class="container">
                    <div class="pictures">
                        <img id="pic1" onmouseover="changeImage('images/img1.jpg', 1, picture1.offsetHeight, picture1.offsetWidth)" src="images/img1.jpg">
                        <img id="pic2" onmouseover="changeImage('images/img2.jpg', 2, picture2.offsetHeight, picture2.offsetWidth)" src="images/img2.jpg">
                        <img id="pic3" onmouseover="changeImage('images/img3.jpg', 3, picture3.offsetHeight, picture3.offsetWidth)" src="images/img3.jpg">
                        <img id="pic4" onmouseover="changeImage('images/img4.jpg', 4, picture4.offsetHeight, picture4.offsetWidth)" src="images/img4.jpg">
                    </div>
                    <div class="picture" id="picture">
                        <div class="rect" id="rect"></div>
                            <img id="pic" src="images/img1.jpg">
                    </div>
                    
            </div>
        </div>
        <div class="flexbox-item flexbox-item-2">
            <div class="deets">
                <p style=" font-size: 12px; color:grey;">Home > Watches > Wrist Watches > Fogg Wrist Watches</p>
                <br>
                <h2 > Fogg</h2>
                <p style=" font-size: 17px;">2151-BK Working Day and Date Analog Watch - For Men</p>
                <br>
                <p style="font-size: 14px; color :green;">Special Price</p>
                <p style="color:black; font-size: 30px;">₹359 <strike style="font-size: 17px ; color:grey;">₹1,999</strike> <span style=" font-size: 20px; color:green;">82% off</span></p>
                <br>
                <p style=""> Available Offers</p>
                <br>
                <div class="spacing">
                    <p><b>Special Price</b> get extra 25% off (price inclusive of discount)</p>
                    <p><b>Bank Offer</b> 5% Cashback on Flipkart Axis Bank Card</p>
                    <p><b>Bank Offer</b> Flat ₹100 Off* On 1st Transaction through Flipkart Pay Later</p>
                    <br>
                    <p><span style="color: grey;">Warranty</span>  &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp6Month</p>
                    <br>
                    <br>
                    <p>Deliver to</p>
                    <br>
                    <div class="delv">
                        <input type="text" placeholder="Enter delivery pincode" id="delivery"><button id="check" >Check</button></input>
                    </div>
                    <hr  color="#2775EF" size="1.7" width="205px">
                    <br>
                    <p>Usual Delivery in 3 days</p>
                    <p>Enter pincode for exact delivery</p>
                </div>
            </div>
        </div>
       
    </div>

    
        <script>
            // main picture
            var picture = document.querySelector('#pic');

            // side pictures
            var picture1 = document.querySelector('#pic1');
            var picture2 = document.querySelector('#pic2');
            var picture3 = document.querySelector('#pic3');
            var picture4 = document.querySelector('#pic4');

            // Main picture container
            var mainContainer = document.querySelector('#picture');

            // selector
            var rect = document.querySelector("#rect");

            // Zoom window
            var zoom = document.querySelector('#zoom');

            // list of pictures 
            picList = [picture1, picture2, picture3, picture4]

            // Active side picture
            let picActive = 1;

            // Add a boxshodow to the first piture (Current active picture)
            picture1.classList.add('img-active');

            // Width and height of main picture in px
            let w1 = mainContainer.offsetWidth;
            let h1 = mainContainer.offsetHeight;

            // change image 

            function changeImage(imgSrc, n, b, w) {
                console.log(mainContainer.offsetHeight, mainContainer.offsetWidth);
                // This will change the main image
                picture.src = imgSrc;
                // This will change the background image of the zoom window
                zoom.style.backgroundImage = "url(" + imgSrc + ")";
                // removing box shodow from the previous active side picture
                picList[picActive-1].classList.remove('img-active');
                // Add box shodow to active side picture
                picList[n-1].classList.add('img-active');
                // update the active side picture 
                picActive = n;
            }
            
           
            // Zoom ratio
            let ratio = 4;

            // Zoom window background-image size
            zoom.style.backgroundSize = w1 * ratio + 'px ' + h1 * ratio + 'px';

            // Coordinates of mouse cursor
            let x, y, xx, yy;

            // Width and height of selector
            let w2 = rect.offsetWidth;
            let h2 = rect.offsetHeight;

            // zoom window width and height
            zoom.style.width = w2 * ratio + 'px';
            zoom.style.height = h2 * ratio + 'px';

            // half of selector shows outside the main picture
            // We need half of width and height
            w2 = w2/2;
            h2 = h2/2;
            // moving the selector box 

            function move(event) {
                // How far is the mouse cursor from an element
                // x how far the cursor from left of element
                x = event.offsetX;
                // y how far the cursor from the top of an element
                y = event.offsetY;

                xx = x - w2;
                yy = y - h2;
                // Keeping the selector inside the main picture
                // left of picture
                if (x < w2) {
                    x = w2;
                    // matching the zoom window with the selector
                    xx = 0;
                }
                // right of main picture
                if (x > w1 - w2) {
                    x = w1 - w2; 
                    xx = x - w2;
                }
                // top of main picture 
                if (y < h2) {
                    y = h2;
                    yy = 0;
                } 
                // bottom of main picture
                if (y > h1 - h2) {
                    y = h1 - h2;
                    yy = y - h2;
                }

                xx = xx * ratio;
                yy = yy * ratio;
                // changing the position of the selector
                rect.style.left = x + 'px';
                rect.style.top = y + 'px';
                // changing background image of zoom window
                zoom.style.backgroundPosition = '-' + xx + 'px ' + '-' + yy + 'px';  
            }

            mainContainer.addEventListener('mousemove', function(){
                move(event);
                addOpacity();
            })

            // show selector
            // show zoom window
            function addOpacity() {
                rect.classList.add('rect-active'); 
                zoom.classList.add('rect-active');
            }

            // Hide the zoom window 
            function removeOpacity() {
                zoom.classList.remove('rect-active');
            }

            mainContainer.addEventListener('mouseout', function() {
                removeOpacity(); 
            })
        </script>
</body>
</html>